[TOC]

当一个批发零售兼营的门店，在启辰云安装或创建了一个应用，这个应用包含批发记录和零售记录，这个时候，他想汇总这两种销售渠道的订单，查看商品的总销售，以往可以通过各种报表来实现，那通过数据视图如何实现？

下面以此为例，进行数据视图的讲解。


## 选择数据源
首先我们需要进入应用的编辑页面，在工作台，**【点击[编辑应用]】——【应用设置】——【数据视图】——【点击[新建数据视图]】**，然后点击已创建视图右侧的[编辑]按钮。

![](http://docfiles.baibaoyun.com/lvCfOlbm3dsVMtmoXBb6rLaTe_TU)
因为我们需要汇总两个渠道的订单，这里就需要两个输入源，输入源可以根据实际需求，自行选择多个输入源。

系统默认一个输入节点，只需手动再添加一个输入源即可，节点添加完成后，点击【输入】添加数据源
![](http://docfiles.baibaoyun.com/lunW_ajdgsEcZBXnRJVrA-mwzusH)


## 数据合并
然后，我们可以通过【追加合并】的聚合计算将两个渠道的销售数据合并为一个表单，追加合并默认将同名称同类型的字段合并为一列，如果是不同名称的，需要自己手动调整为一列，不需要的字段也可以进行删除，还可修改字段名称（不用类型的字段不可以合并为一列）。

![](http://docfiles.baibaoyun.com/lna1_m7A4Sl-XmWX56QMLmF6GlBu)
经过追加合并的聚合计算以后，根据同类型字段可以合并为一列的逻辑，两个数据源就可以通过上下相连接的方式合并为一个数据表了。

## 汇总计算
整合好的数据我们还可以再进行【分组汇总】计算。 比如计算每个门店的销售额，或者每个商品的整体销量情况，以及每个门店的各商品销量情况都可以实现。
![](http://docfiles.baibaoyun.com/lok37zZmgeynC2dWayz-M7nKxwr-)

## 视图输出
视图设计好以后，与输出节点进行相连，那么视图就设计好了。当数据源发生变化以后，数据流会执行相应的计算。
![](http://docfiles.baibaoyun.com/lmSERkBAzedSAB0UYxiQhV6q3Fgs)
>注意：请不要忘了给输出节点设置名称，没有设置的话默认名称为「输出」，这样在调用数据时会不知道该选择什么数据。

## 输出数据调用
输出数据可以在表单或报表中调用。表单中可以用关联或联动来调用数据；报表可以展示数据视图输出的数据。

### 关联联动
如我们需要关联数据视图输出的商品名称，然后通过商品名称可以联动出该商品的总零售额。

![](http://docfiles.baibaoyun.com/lvWPyqzLXUv0SVy7rhmmUf4s4vNe)

### 报表
报表也可以调用数据视图输出的数据，报表只有`数据表、日历、排班表、地图`这四种报表支持数据视图数据的展示
![](http://docfiles.baibaoyun.com/ll6GO0jJ7Qb9fcl2D4EHfPmJMAgb)
