[TOC]

表单提交校验，只有满足校验条件，才能提交数据。


# 1.校验规则

（1）表单校验中写的条件，满足该条件可提交数据，不满足则不允许能提交。所以只要写出正确的条件即可。
（2）校验错误提示内输入的内容，会在不符合提交条件时出现。
（3）判断符号，典型的为

|  大于  |    小于|   等于 | 不等于   | 大于等于   |   小于等于 |
| --     | --     | --     | --       | --         | --         |
|  >     |  <     |  ==    |  !=      | >=         |  <=        |


（4）公式用法点击参考【[表单与报表公式](公式.md)】

（5）如果这张表单开启流程的话，那么表单校验会失效，以节点校验为准。需要在流程设定-节点校验中，添加该节点的校验。

以下通过一个简单的案例，来介绍一下表单校验的设置方法。

# 2.案例描述

有一张物品登记表，包括编号、名称、数量、生产日期4个字段，满足以下校验条件才能提交数据：

（1）填写10位编号，即自定义编号位数；

（2）每次录入的商品数量在1-9999之间；

（3）录入的商品不能超过180天的保质期。

# 3.操作步骤

（1）表单右侧选择“表单属性”，能看到“添加校验条件”按钮。

![](http://bbs.baibaoyun.com/data/attachment/forum/201708/30/184108kazvrhzrf8hphrsf.jpg)

点击“添加校验条件”，弹出一个设置校验条件的悬浮框。


（2）设置第一个条件：编号位数为10。

LEN函数的功能是读取字符串的位数。

公式为：`LEN(编号)==10`。表示编码为10位时，才可以提交数据。

![](http://docfiles.baibaoyun.com/FrT2MADRfN5WkoAEY_EdExdwT5EC)

（3）继续点击“添加校验条件”，设置第二个条件：数量的值在1-9999之间。

AND函数为与函数，当括号内每个逗号隔开的值都为true时，返回值为true。

公式为：`AND(数量>=1,数量<=9999)`。表示当数量>=1和数量<=9999同时满足时，才可以提交数据。

![](http://docfiles.baibaoyun.com/FptHHG2sTxVjU9uD8Og2G_lymvhy)

（4）最后来设置日期判断的校验条件。不能超过180天的保质期，转换成公式语言就是，需要满足当前日期与生产日期之差小于180天。

公式为：`DAYS(TODAY(),DATE(生产日期))<180`。表示今天和生产日期之间的天数小于180天，才可以提交数据。

![](http://docfiles.baibaoyun.com/FrQ3N2S5MHcWatuF5zKTtWa-Gano)

（5）所有的校验条件就都设置好了

![](http://bbs.baibaoyun.com/data/attachment/forum/201708/30/184113pfzrfllcytzq0rql.jpg)

这时候别忘记保存表单，3个校验条件已经设置好了，来测试一下。

（1）填写的编号必须是10位

![](http://bbs.baibaoyun.com/data/attachment/forum/201708/30/184114a5ynnskvhvs65yrn.gif)

（2）每次录入的商品数量在1-9999之间。

![](http://bbs.baibaoyun.com/data/attachment/forum/201708/30/184115s4uezs06ni50envm.gif)

（3）录入的商品不能超过180天的保质期。（下图中的测试时间为为2017年3月9日）

![](http://bbs.baibaoyun.com/data/attachment/forum/201708/30/184116n566sbhz114182pb.gif)



