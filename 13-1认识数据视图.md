[TOC]

数据视图是可以通过创建数据流对已有数据进行数据统计、数据处理，处理后形成的数据可以在报表中进行分析，同时还可调用数据。

数据视图是用于复杂数据统计/多表关联/分组汇总/分组过滤，制作复杂数据报表，还可以用来被数据联动调用数据。




# 名词解释
## （1）数据流
数据流即我们设置的数据聚合计算的流程，每个数据流可以有`多个输入`和`一个输出`。

## （2）输入与输出
* **输入**

选择输入源的数据流节点，即选择需要计算的表单。

* **输出**

将通过数据流进行计算过的最终值输出到到该节点，处理完毕的最终数据也将从该节点进行输出

## （3）横向连接
通过内连接、左连接以及右连接的方式输出为一个新的数据源。

![](http://docfiles.baibaoyun.com/FvejWfWSiFgdD_zjSpkVRN6s0Xuz)

`位于连接符号左右方向上的表单分别为左侧表单和右侧表单。`

* **内连接**<br>
根据连接字段，返回左右两侧表单连接字段相等的数据，即返回左右两个表单的数据交集。
![](http://docfiles.baibaoyun.com/FhCu-_w-5IlOfzuaLUCrPtZp6R1h)

* **左连接**<br>
返回左侧表单的全部数据，根据连接字段，逐行匹配并连接右侧表单的数据，匹配不到则留空。
![](http://docfiles.baibaoyun.com/FkL7rcRo7x4IkT0Gnnd1fhGtaFbJ)

* **右连接**<br>
返回右侧表单的全部数据，根据连接字段，逐行匹配并连接左侧表单的数据，匹配不到则留空。
![](http://docfiles.baibaoyun.com/Flf7JYEZ_6kOmiitJ3eMdxPzaNk-)


## （4）追加合并
将多个数据表中同字段类型字段合并为一列，合并后输出为一个新的数据源。

![](http://docfiles.baibaoyun.com/FnAgV2fAZn_ECEakKdlJud3qjoMM)

默认将同类型且同名的字段合并为一列，同类型不同名的字段可以通过拖拽的方式合并为一列，不同类型的字段不可合并。



## （5）数据筛选
将数据源通过添加筛选条件，筛选出所需要的数据，输出为新的数据源流转到下一节点。

![](http://docfiles.baibaoyun.com/FvqRm1w1kZWG3sf2Hq16EYNBKYIO)


## （6）分组汇总
对数据源里的表单进行分组及汇总计算。

![](http://docfiles.baibaoyun.com/FuEz_wBxqd_M2fE8tb-XPeogcMa-)


* **分组**<br>
可添加多个分组字段，至少一个；

  支持的字段数据类型为文本、日期、地址（包括定位）、成员/部门单选。

  在选择日期和地址（包括定位）字段时，会额外多出一行，可自行选择分组方式，

  日期默认选择` 年-月`，地址默认选择` 省-市`。

* **汇总**<br>
文本、日期、地址类型，汇总方式只支持计数，计算该分组内该字段（非空）的记录总数。

   数字类型，支持的汇总方式有`求和 `、`平均 `、`最大值` 、`最小值 `、`计数`，默认求和。

## （7）字段设置
将上一步的输入端的表的字段进行隐藏、重命名以及额外添加所需要的计算字段。

![](http://docfiles.baibaoyun.com/FvhtQVnSlnZXwrQ0DWwe0AvuyM3x)

## （8）字段排序
按单张表中的指定字段进行排序操作

![](http://docfiles.baibaoyun.com/FpGK_9IvaqKw0alk6YkN0ohrq8Zi)


# 数据视图基本规则
* 数据视图的设置方式采用`输入 >> 计算 >> 输出`的流程节点式设置。

* 默认分别有一个输入和输出节点，输入端为起点，输出端为终点。

* 输入没有节点入口、可以有多个节点出口，出口不能是输出 ，不可命名（取其所使用的表单名字）。

* 输出只有一个节点入口、没有节点出口，可以命名，其结果集直接展示在数据仓库的数据页面。

* 中间计算端可以命名，横向连接只能有2个入口，追加合并至少要有2个入口，其他计算只能有一个入口；可以有多个出口，但是最多只能有一个出口是输出。

* 一个数据视图里面只能有一个数据计算流程，不能存在多个孤立的流程、不能存在孤立的节点，并且至少要有一个输入和输出节点。

# 数据视图基本设置
## （1）数据视图/数据节点命名
点击数据视图名称和数据节点名称，可以进行重命名。

![](http://docfiles.baibaoyun.com/Fur5VN1fggWk5EDB-MKEkwAEkvrl)


`「输入节点」名称不可更改，使用数据源的表单名称。`

## （2）修改与删除
创建好的数据视图可以进行二次修改；当数据源中的数据发生修改后，数据会实时更新；不想要的数据视图还可以进行删除。

**设置方式：【应用设置】——【数据视图】——【编辑/删除】**
![](http://docfiles.baibaoyun.com/FoVNYPcBIpx-J5B2avljhhIhbe4x)




